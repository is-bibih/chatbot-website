{"remainingRequest":"/home/vivi/gits/COVID-19/public/node_modules/babel-loader/lib/index.js!/home/vivi/gits/COVID-19/public/node_modules/vuetify-loader/lib/loader.js??ref--17-0!/home/vivi/gits/COVID-19/public/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/vivi/gits/COVID-19/public/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vivi/gits/COVID-19/public/src/components/DownloadExcel.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vivi/gits/COVID-19/public/src/components/DownloadExcel.vue","mtime":1594664479988},{"path":"/home/vivi/gits/COVID-19/public/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vivi/gits/COVID-19/public/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vivi/gits/COVID-19/public/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/home/vivi/gits/COVID-19/public/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vivi/gits/COVID-19/public/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgdXNlcnNSZWYgfSBmcm9tICcuLi9maXJlYmFzZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogWydzb3J0QnknLCAnc29ydE5hbWUnLCAnbmFtZUxpc3QnLCAnc3RhcnRUaW1lJywgJ2VuZFRpbWUnXSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXJzOiBbXSwKICAgICAganNvbl9maWVsZHM6IHsKICAgICAgICAnTm8uIHNlc2nDs24nOiAnU2Vzc2lvbklkJywKICAgICAgICAnTm9tYnJlIGRlIHVzdWFyaW8nOiAnTmFtZScsCiAgICAgICAgJ0ZlY2hhJzogJ0RhdGUnLAogICAgICAgICdIb3JhJzogJ0hvdXInLAogICAgICAgICdOby4gaW50ZXJhY2Npw7NuJzogJ2luZGV4JywKICAgICAgICAnRXNjcml0byB1c3VhcmlvJzogJ1RleHRRdWVyeScsCiAgICAgICAgJ0VzY3JpdG8gYWdlbnRlJzogJ0ludGVudE5hbWUnLAogICAgICAgICdDZXJ0aWR1bWJyZSc6ICdDb25maWRlbmNlJwogICAgICB9CiAgICB9OwogIH0sCgogIC8vICBtZXRob2RzIDogewogIC8vICAgIGZldGNoRGF0YTogZnVuY3Rpb24gKCkgewogIC8vICAgICAgcmV0dXJuIHRoaXMudXNlcnMKICAvLyAgICB9CiAgLy8gIH0sCiAgLy8gIGZpcmViYXNlKCkgewogIC8vICAgICAgY29uc29sZS5sb2coInNvcnRCeTogIiArIHRoaXMuc29ydEJ5KQogIC8vICAgICAgaWYgKCF0aGlzLnNvcnRCeSkgewogIC8vICAgICAgICBjb25zb2xlLmxvZygnbm8gc29ydCcpOwogIC8vICAgICAgICByZXR1cm4geyB1c2Vyc1JlZiB9CiAgLy8gICAgICB9IGVsc2UgewogIC8vICAgICAgICB2YXIgdXNlcnMgPSB1c2Vyc1JlZi5vcmRlckJ5Q2hpbGQodGhpcy5zb3J0QnkpOwogIC8vICAgICAgICBpZiAodGhpcy5zb3J0QnkgPT0gJ1RpbWUnKSB7CiAgLy8gICAgICAgICAgLy8gZXMgdW4gcXVlcnksIGVudG9uY2VzIHNlIG5lY2VzaXRhIHVzYXIgZWwgcmVmIHBhcmEgYWNjZXNhciBsb3MgZGF0b3MKICAvLyAgICAgICAgICB1c2VycyA9IHVzZXJzLnN0YXJ0QXQodGhpcy5zdGFydFRpbWUpLmVuZEF0KHRoaXMuZW5kVGltZSkucmVmOwogIC8vICAgICAgICAgIHJldHVybiB7CiAgLy8gICAgICAgICAgICB1c2VyczogdXNlcnMsCiAgLy8gICAgICAgICAgfQogIC8vICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc29ydEJ5ID09ICdOYW1lJykgewogIC8vICAgICAgICAgIHJldHVybiB7CiAgLy8gICAgICAgICAgICB1c2VyczogdXNlcnMuZXF1YWxUbyh0aGlzLm5hbWVMaXN0KSwKICAvLyAgICAgICAgICB9CiAgLy8gICAgICAgIH0gZWxzZSB7CiAgLy8gICAgICAgICAgcmV0dXJuIHsKICAvLyAgICAgICAgICAgIHVzZXJzOiB1c2VycywKICAvLyAgICAgICAgICB9CiAgLy8gICAgICAgIH0KICAvLyAgICAgIH0KICAvLyAgfSwKICB3YXRjaDogewogICAgc29ydEJ5OiB7CiAgICAgIGltbWVkaWF0ZTogdHJ1ZSwKCiAgICAgIGhhbmRsZXIoc29ydEJ5KSB7CiAgICAgICAgaWYgKCFzb3J0QnkpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCdubyBzb3J0Jyk7CiAgICAgICAgICB0aGlzLnVzZXJzID0gdXNlcnNSZWY7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHZhciB1c2VycyA9IHVzZXJzUmVmLm9yZGVyQnlDaGlsZChzb3J0QnkpOwoKICAgICAgICAgIGlmIChzb3J0QnkgPT0gJ1RpbWUnKSB7CiAgICAgICAgICAgIC8vIGVzIHVuIHF1ZXJ5LCBlbnRvbmNlcyBzZSBuZWNlc2l0YSB1c2FyIGVsIHJlZiBwYXJhIGFjY2VzYXIgbG9zIGRhdG9zCiAgICAgICAgICAgIHRoaXMuJHJ0ZGJCaW5kKCd1c2VycycsIHVzZXJzLnN0YXJ0QXQodGhpcy5zdGFydFRpbWUpLmVuZEF0KHRoaXMuZW5kVGltZSkucmVmKTsKICAgICAgICAgIH0gZWxzZSBpZiAoc29ydEJ5ID09ICdOYW1lJykgewogICAgICAgICAgICB0aGlzLiRydGRiQmluZCgndXNlcnMnLCB1c2Vycy5lcXVhbFRvKHRoaXMubmFtZUxpc3QpKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGNvbnNvbGUubG9nKHVzZXJzUmVmLm9yZGVyQnlDaGlsZCgnVGltZScpKTsKICAgICAgfQoKICAgIH0KICB9Cn07"},{"version":3,"sources":["DownloadExcel.vue"],"names":[],"mappings":";;;;;;;;;;;AAYA,SAAA,QAAA,QAAA,aAAA;AAEA,eAAA;AACA,EAAA,KAAA,EAAA,CAAA,QAAA,EAAA,UAAA,EAAA,UAAA,EAAA,WAAA,EAAA,SAAA,CADA;;AAEA,EAAA,IAAA,GAAA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,WAAA,EAAA;AACA,sBAAA,WADA;AAEA,6BAAA,MAFA;AAGA,iBAAA,MAHA;AAIA,gBAAA,MAJA;AAKA,2BAAA,OALA;AAMA,2BAAA,WANA;AAOA,0BAAA,YAPA;AAQA,uBAAA;AARA;AAFA,KAAA;AAaA,GAhBA;;AAiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAA,KAAA,EAAA;AACA,IAAA,MAAA,EAAA;AACA,MAAA,SAAA,EAAA,IADA;;AAEA,MAAA,OAAA,CAAA,MAAA,EAAA;AACA,YAAA,CAAA,MAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,SAAA;AACA,eAAA,KAAA,GAAA,QAAA;AACA,SAHA,MAGA;AACA,cAAA,KAAA,GAAA,QAAA,CAAA,YAAA,CAAA,MAAA,CAAA;;AACA,cAAA,MAAA,IAAA,MAAA,EAAA;AACA;AACA,iBAAA,SAAA,CAAA,OAAA,EAAA,KAAA,CAAA,OAAA,CAAA,KAAA,SAAA,EAAA,KAAA,CAAA,KAAA,OAAA,EAAA,GAAA;AACA,WAHA,MAGA,IAAA,MAAA,IAAA,MAAA,EAAA;AACA,iBAAA,SAAA,CAAA,OAAA,EAAA,KAAA,CAAA,OAAA,CAAA,KAAA,QAAA,CAAA;AACA;AACA;;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,QAAA,CAAA,YAAA,CAAA,MAAA,CAAA;AACA;;AAhBA;AADA;AA9CA,CAAA","sourcesContent":["<template>\n    <div class=\"download-sorted-excel\">\n        <download-excel\n            :data   = users\n            :fields = \"json_fields\"\n            name    = \"queries_meddy.xls\">\n    \t    <b-button variant=\"success\">Descargar</b-button>\n        </download-excel>\n    </div>\n</template>\n\n<script>\nimport { usersRef } from '../firebase';\n\nexport default {\n  props : ['sortBy', 'sortName', 'nameList', 'startTime', 'endTime'],\n  data() {\n    return {\n      users: [],\n      json_fields: {\n\t'No. sesión': 'SessionId',\n\t'Nombre de usuario': 'Name',\n\t'Fecha': 'Date',\n\t'Hora': 'Hour',\n\t'No. interacción': 'index',\n        'Escrito usuario': 'TextQuery',\n        'Escrito agente': 'IntentName',\n        'Certidumbre': 'Confidence'\n      },\n    };\n  },\n//  methods : {\n//    fetchData: function () {\n//      return this.users\n//    }\n//  },\n//  firebase() {\n//      console.log(\"sortBy: \" + this.sortBy)\n//      if (!this.sortBy) {\n//        console.log('no sort');\n//        return { usersRef }\n//      } else {\n//        var users = usersRef.orderByChild(this.sortBy);\n//        if (this.sortBy == 'Time') {\n//          // es un query, entonces se necesita usar el ref para accesar los datos\n//          users = users.startAt(this.startTime).endAt(this.endTime).ref;\n//          return {\n//            users: users,\n//          }\n//        } else if (this.sortBy == 'Name') {\n//          return {\n//            users: users.equalTo(this.nameList),\n//          }\n//        } else {\n//          return {\n//            users: users,\n//          }\n//        }\n//      }\n//  },\n  watch: {\n    sortBy: {\n      immediate: true,\n      handler(sortBy) {\n        if (!sortBy) {\n          console.log('no sort');\n          this.users = usersRef;\n        } else {\n          var users = usersRef.orderByChild(sortBy);\n          if (sortBy == 'Time') {\n            // es un query, entonces se necesita usar el ref para accesar los datos\n            this.$rtdbBind('users', users.startAt(this.startTime).endAt(this.endTime).ref)\n          } else if (sortBy == 'Name') {\n            this.$rtdbBind('users', users.equalTo(this.nameList))\n          }\n        }\n\tconsole.log(usersRef.orderByChild('Time'));\n      }\n    }\n  }\n};\n\n</script>\n\n<style scoped>  /* \"scoped\" attribute limit the CSS to this component only */\n  .download-excel {\n    margin-top: 30px;\n  }\n</style>\n"],"sourceRoot":"src/components"}]}